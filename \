module RubyLove
  module OptionParser
    extend self

    def parse(text)
      options = extract_options(text)
    end

  private

    def extract_options(text)
      args = split_out_args(text)
      args.each_slice(2).map do |slice|
        [slice[0], slice[1]]
      end
    end

    def split_out_args(args)
      args.split(" ")
    end

  end
end

require 'minitest/autorun'

describe RubyLove::OptionParser do
  subject { RubyLove::OptionParser }
  describe "extract_options" do
    it "must extract flag/value pairs" do
      subject.parse("-n bob -l 100 -v").must_equal(
        [["-n", "bob"], ["-l", "100"], ["-v",nil]]
      )
    end
  end
end
